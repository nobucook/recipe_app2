<div id="post-recipe" >
    <h1>Post Recipe/レシピの投稿</h1>
    <div class="wrapper row">
    <%= form_with model: @recipe,local: true do |f| %>
      <%= render 'shared/error_messages', object: f.object %>
      <fieldset class="col-md-5">
        <legend>Title / About Recipe</legend>
          <%= f.label :title %>
          <%= f.text_field :title, class: 'form-control' %>

          <%= f.label :about, "About Recipe / コメント" %>
          <%= f.text_area  :about, class: 'form-control' %>

        <span class="image">
          <%= f.label :image, "Recipe Image / 料理画像" %>
          <%= f.file_field :image %>
        </span>
      </fieldset>

        <fieldset class="col-md-6">
          <legend>Ingredients</legend>
          <%= f.fields_for :ingredients do |ingredients_form| %>
            <%= render "shared/ingredient_fields", f: ingredients_form %>
          <% end %>
          <div>
            <%= link_to_add_fields "Add Ingredients / 原材料の追加", f, :ingredients %>
          </div>
        </fieldset>


        <fieldset class="col-md-12">
          <legend>Instructions</legend>
            <%= f.fields_for :instructions do |instructions_form|%>
              <%= render "shared/instruction_fields", f: instructions_form %>
            <% end %>
            <div>
              <%= link_to_add_fields "Add Instruction / 工程追加", f, :instructions %>
            </div>
        </fieldset>
              <%= f.submit yield(:button_text), class: "btn btn-primary" %>
          <% end %>


          </div><!-- wrapper -->
        </div><!-- #post-recipe -->

        <script type="text/javascript">
          $("#recipe_image").bind("change", function() {
            var size_in_megabytes = this.files[0].size/1024/1024;
            if (size_in_megabytes > 5) {
              alert("Maximum file size is 5MB. Please choose a smaller file.");
              $("#recipe_image").val("");
            }
          });
        </script>
